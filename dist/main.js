"use strict";(()=>{var p=document.getElementById("button"),g=document.getElementById("mode"),h=document.getElementById("setting"),L=document.querySelectorAll(".colors-list li"),k=document.getElementById("extra-color"),M=document.getElementById("u-image"),E=document.querySelectorAll(".footer li"),N=document.getElementById("task-icon"),w=document.getElementById("task-content"),b=document.querySelector(".checkbox input:first-child"),S=b.parentNode;var x=(e,t)=>{e?.addEventListener("click",o=>{t?.classList.toggle("hide"),e?.classList.toggle("clicked"),o.stopPropagation()})},T=e=>{document.addEventListener("click",t=>{e?.contains(t.target)||(e?.classList.add("hide"),e?.previousElementSibling?.classList.remove("clicked"),t.stopPropagation())})};p.addEventListener("click",()=>{h?.nextElementSibling?.classList.contains("hide")||h?.nextElementSibling?.classList.add("hide")});x(p,p?.nextElementSibling);T(p?.nextElementSibling);x(h,h?.nextElementSibling);T(h?.nextElementSibling);document.querySelector(".fa-bell")?.addEventListener("click",e=>{e.preventDefault(),Notification.requestPermission(t=>{console.log("Notification permission status:",t)})});var G=["/","/index.html","/dist/main.js","/dist/serviceWorker.js","/src/css/style.css","/src/css/all.min.css","/images/enter-task.webp","/images/modo-light.webp","/images/icon-72\xD772.ico","/images/icon-72\xD772.webp","/images/icon-96\xD796.webp","/images/icon-128\xD7128.webp","/images/icon-144\xD7144.webp","/images/icon-152\xD7152.webp","/images/icon-192\xD7192.webp","/images/icon-384\xD7384.webp","/images/icon-512\xD7512.webp","/src/webfonts/fa-solid-900.ttf","/src/webfonts/fa-brands-400.ttf","/src/webfonts/fa-regular-400.ttf","/src/webfonts/fa-v4compatibility.ttf","/src/webfonts/fa-solid-900.woff2","/src/webfonts/fa-brands-400.woff2","/src/webfonts/fa-regular-400.woff2","/src/webfonts/fa-v4compatibility.woff2"];self.addEventListener("install",e=>{e?.waitUntil(caches.open("modo").then(t=>t.addAll(G)))});self.addEventListener("fetch",e=>{e.respondWith(caches.match(e.request).then(t=>t||fetch(e.request)))});self.addEventListener("fetch",e=>{e.respondWith(caches.open("modo").then(t=>fetch(e.request).then(o=>(t.put(e.request,o.clone()),o))))});function C(e){return new Promise((t,o)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>o(e.error)})}function P(e,t){let o=indexedDB.open(e);o.onupgradeneeded=()=>o.result.createObjectStore(t);let a=C(o);return(u,i)=>a.then(l=>i(l.transaction(t,u).objectStore(t)))}var I;function A(){return I||(I=P("keyval-store","keyval")),I}function H(e,t=A()){return t("readonly",o=>C(o.get(e)))}function R(e,t,o=A()){return o("readwrite",a=>(a.put(t,e),C(a.transaction)))}function D(e,t,o=A()){return o("readwrite",a=>new Promise((u,i)=>{a.get(e).onsuccess=function(){try{a.put(t(this.result),e),u(C(a.transaction))}catch(l){i(l)}}}))}var q=P("Modo","person");var m=(e,t)=>R(e,t,q),r=e=>H(e,q),K=(e,t)=>D(e,t,q);var y=(e,t,o)=>{let a=e.filter(n=>n.status?n:""),u=t.filter(n=>n.status?n:""),i=a.length!==0?a.length*100/e.length:0,l=u.length!==0?u.length*100/t.length:0,c=document.getElementById("progress");if(o){let n=setInterval(()=>{i>=l&&clearInterval(n),$(c,i),i++},50)}if(!o){let n=setInterval(()=>{i>=l&&clearInterval(n),$(c,l),l--},50)}},$=(e,t)=>{e.style.background=`conic-gradient(var(--fav-color) ${t/100}turn, var(--mode-color) 0deg)`,e.dataset.progress=t.toFixed(1)};var v=e=>(e.parentNode.classList.add("hide"),e.parentNode.parentNode.previousElementSibling),j=e=>{let t=v(e);t.setAttribute("contenteditable","true"),t.addEventListener("mouseleave",async()=>{t.removeAttribute("contenteditable");let o=await r("tasks");o[t.parentNode.dataset.id].content=t.textContent,K("tasks",()=>o),f(o)})};var W=async e=>{let t=await r("tasks"),o=t[v(e).parentNode.dataset.id].status,a=t;t.splice(v(e).parentNode.dataset.id,1),t.forEach((u,i)=>{u.id=i}),await m("tasks",t),f(t),y(a,t,o)},B=async(e,t)=>{let o=await r("tasks"),a=o;o[e.dataset.id].status=t,y(a,o,t),f(o),await m("tasks",o)};var F=async e=>{let t=await r("tasks"),o=v(e).parentNode;e.children[1].textContent=="Not Completed"?(B(o,!1),o.firstChild.style.bacgroundColor=t.icon+""):B(o,!0)};var f=async e=>{S.style.border="2px solid var(--choosen-color)",document.querySelectorAll(".tasks-list li")?.forEach(t=>{t.remove()}),e.forEach((t,o)=>{let a=document.createElement("span");a.classList.add("icon"),a.style.border=`2px solid ${t.icon}`,a.style.color=`${t.icon}`;let u=document.createElement("p");u.classList.add("task-content"),u.textContent=t.content;let i=document.createElement("div");i.classList.add("options"),i.innerHTML=`      
            <span class="span-opts">\u2022\u2022\u2022</span>
            <ul class="options-list hide">
              <li class="edit" onclick="window.edit(this)">
                <i class="fa-solid fa-pencil fa-sm"></i>
                <p>Edit</p>
              </li>
              <li class="completed" onclick="window.makeCompleted(this)">
                <i class="fa-solid fa-check fa-sm"></i>
                <p>${t.status==!1?"Completed":"Not Completed"}</p>
              </li>
              <li class="delete" onclick="window.deleteThis(this)">
                <i class="fa-solid fa-trash fa-sm"></i>
                <p>Delete</p>
              </li>
            </ul>
 `;let l=document.createElement("span");l.classList.add("move-task"),l.textContent=":::";let c=document.createElement("li");c.setAttribute("data-id",`${t.id}`),c.setAttribute("data-status",t.status?"completed":"not-completed"),r("tasks").then(s=>{s?.length>=5&&(s?.length-1==o||s?.length-2==o)&&c.classList.add("last-li")}),c.append(a),c.append(u),c.append(i),c.append(l),document.querySelector(".tasks-list")?.append(c);let n=document.querySelectorAll(".span-opts");n.forEach(s=>{s.addEventListener("click",()=>{n.forEach(d=>d.nextElementSibling?.classList.add("hide"))}),x(s,s.nextElementSibling),T(s.nextElementSibling)})}),y(await r("tasks"),e,!0)};window.edit=j;window.deleteThis=W;window.makeCompleted=F;document.addEventListener("DOMContentLoaded",async()=>{let e=await r("image");e==null&&await m("image",""),e!==""?p?.setAttribute("src",e):p?.removeAttribute("src"),M.addEventListener("change",n=>{let s=new FileReader;s.readAsDataURL(M.files?.item(0)),s.addEventListener("load",async()=>{await m("image",s.result),p?.setAttribute("src",`${s.result}`)}),n.stopPropagation()}),await r("mode")==null&&await m("mode",""),g?.addEventListener("click",()=>{let n=g?.classList.contains("dark")?"light":"dark";m("mode",n)});let o=await r("fav-color");o==null?await m("fav-color",""):document.querySelector("html")?.style.setProperty("--fav-color",o),k?.addEventListener("input",()=>{L[4].dataset.color=k.value,m("fav-color",k.value),document.querySelector("html")?.style.setProperty("--fav-color",k.value)}),L.forEach(n=>{n.addEventListener("click",()=>{m("fav-color",n.dataset.color),document.querySelector("html")?.style.setProperty("--fav-color",n.dataset.color)})}),await r("tasks")==null&&await m("tasks",[]),b?.addEventListener("input",n=>{S.style.border=`2px solid ${b.value}`,n.stopPropagation()});let u=[];document.querySelector(".input-box")?.addEventListener("submit",async n=>{if(w.value!==""){n.preventDefault();let s=await r("tasks");console.log(s);let d=[...s,{icon:N.value,id:s.length,content:w.value,status:!1}];m("tasks",d),f(d)}w.value=""});let i=new Map,l=new Map;i.set("--mode-color","#222").set("--alt-mode-color","#fff").set("--hover-color","#363636").set("--sec-mode-color","#333"),l.set("--mode-color","#fff").set("--alt-mode-color","#000").set("--hover-color","#f6f6f6").set("--sec-mode-color","#eee"),g?.addEventListener("click",n=>{if(n.stopPropagation(),g?.classList.toggle("dark"),g?.classList.contains("dark")==!0)for(let[s,d]of i)document.querySelector("html")?.style.setProperty(s,d);if(g?.classList.contains("dark")==!1)for(let[s,d]of l)document.querySelector("html")?.style.setProperty(s,d)});function c(n,...s){n.forEach(d=>{d.addEventListener("click",O=>{n.forEach(V=>V.classList.remove(s.join(" "))),O.target.classList.add("active")})})}c(L,"active"),c(E,"active"),E[0].addEventListener("click",async()=>{let n=await r("tasks");f(n)}),E[1].addEventListener("click",async()=>{let n=await r("tasks");f(n.filter(s=>s.status?"":s))}),E[2].addEventListener("click",async()=>{let n=await r("tasks");f(n.filter(s=>s.status?s:""))}),r("mode").then(n=>{if(n=="dark"){g?.classList.add("dark");for(let[s,d]of i)document.querySelector("html")?.style.setProperty(s,d)}if(n!="dark"){g?.classList.remove("dark");for(let[s,d]of l)document.querySelector("html")?.style.setProperty(s,d)}}),r("tasks").then(n=>{n&&n!=null&&(y([],n,!0),f(n))})});})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL3RzL2VsZW1lbnRzLnRzIiwgIi4uL3NyYy90cy9tZW51LnRzIiwgIi4uL3NyYy90cy9ub3RpZmljYXRpb25zLnRzIiwgIi4uL3NyYy90cy9zZXJ2aWNlV29ya2VyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9pZGIta2V5dmFsL2Rpc3QvaW5kZXguanMiLCAiLi4vc3JjL3RzL3N0b3JhZ2UudHMiLCAiLi4vc3JjL3RzL3Byb2dyZXNzLnRzIiwgIi4uL3NyYy90cy9UYXNrcy9lZGl0LnRzIiwgIi4uL3NyYy90cy9UYXNrcy9kZWxldGUudHMiLCAiLi4vc3JjL3RzL1Rhc2tzL21ha2VDb21wbGV0ZS50cyIsICIuLi9zcmMvdHMvcmVuZGVyZXIudHMiLCAiLi4vc3JjL3RzL21haW4udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImV4cG9ydCBjb25zdFxuICBtYWluQnV0dG9uOiBIVE1MSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25cIikgYXMgSFRNTEltYWdlRWxlbWVudCxcbiAgbW9kZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kZVwiKSxcbiAgc2V0dGluZzogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXR0aW5nXCIpLFxuICBjb2xvcnNMaXN0OiBhbnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvbG9ycy1saXN0IGxpXCIpLFxuICBleHRyYUNvbG9yOiBhbnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4dHJhLWNvbG9yXCIpLFxuICB1c2VySW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInUtaW1hZ2VcIikgYXMgSFRNTElucHV0RWxlbWVudCxcbiAgc3RhdHVzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9vdGVyIGxpXCIpLFxuICB0YXNrSWNvbjogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFzay1pY29uXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQsXG4gIHRhc2tDb250ZW50OiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLWNvbnRlbnRcIikgYXMgSFRNTElucHV0RWxlbWVudCxcbiAgaW5wdXRUYXNrQ29sb3I6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrYm94IGlucHV0OmZpcnN0LWNoaWxkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQsXG4gIHBhcmVudGlucHV0ID0gaW5wdXRUYXNrQ29sb3IucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudFxuXG5cblxuIiwgImltcG9ydCB7IG1haW5CdXR0b24sIHNldHRpbmcgfSBmcm9tIFwiLi9lbGVtZW50c1wiO1xuXG5cbi8vIE1lbnUgTG9naWNcbmV4cG9ydCBjb25zdCB0b2dnbGVNZW51ID0gKGJ1dHRvbjogSFRNTEVsZW1lbnQgfCBudWxsLCBtZW51OiBFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCk6IHZvaWQgPT4ge1xuICBidXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICBtZW51Py5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZVwiKTtcbiAgICBidXR0b24/LmNsYXNzTGlzdC50b2dnbGUoXCJjbGlja2VkXCIpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IGhpZGVNZW51ID0gKG1lbnU6IEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkKTogdm9pZCA9PiB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoIW1lbnU/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgbWVudT8uY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XG4gICAgICBtZW51Py5wcmV2aW91c0VsZW1lbnRTaWJsaW5nPy5jbGFzc0xpc3QucmVtb3ZlKFwiY2xpY2tlZFwiKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfSk7XG59XG5cblxubWFpbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpOiB2b2lkID0+IHtcbiAgaWYgKCFzZXR0aW5nPy5uZXh0RWxlbWVudFNpYmxpbmc/LmNsYXNzTGlzdC5jb250YWlucyhcImhpZGVcIikpIHtcbiAgICBzZXR0aW5nPy5uZXh0RWxlbWVudFNpYmxpbmc/LmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xuICB9XG59XG4pXG5cblxudG9nZ2xlTWVudShtYWluQnV0dG9uLCBtYWluQnV0dG9uPy5uZXh0RWxlbWVudFNpYmxpbmcpO1xuaGlkZU1lbnUobWFpbkJ1dHRvbj8ubmV4dEVsZW1lbnRTaWJsaW5nKTtcbnRvZ2dsZU1lbnUoc2V0dGluZywgc2V0dGluZz8ubmV4dEVsZW1lbnRTaWJsaW5nKTtcbmhpZGVNZW51KHNldHRpbmc/Lm5leHRFbGVtZW50U2libGluZyk7XG5cbiIsICJkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhLWJlbGxcIik/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KClcbiAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKChzdGF0dXMpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTm90aWZpY2F0aW9uIHBlcm1pc3Npb24gc3RhdHVzOicsIHN0YXR1cyk7XG4gIH0pO1xufSlcblxuZnVuY3Rpb24gc2hvd0FOb3RpZmljYXRpb24gIChvcHRpb25zOiBOb3RpZmljYXRpb25PcHRpb25zKSB7XG4gIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XG4gICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9ucygpLnRoZW4oKHJlZykgPT4ge1xuICAgICAgcmVnWzBdLnNob3dOb3RpZmljYXRpb24oJ01vZG8nLCBvcHRpb25zKTtcbiAgICAgIHJlZ1swXS5wdXNoTWFuYWdlci5zdWJzY3JpYmUoe1xuICAgICAgICB1c2VyVmlzaWJsZU9ubHk6IHRydWUsXG4gICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5OiBcIlwiLFxuICAgICAgfSkudGhlbigoKSA9Pnt9KVxuICAgIH0pO1xuICB9XG59XG5cblxuXG4vL1RoaXMgZm9yIHRlc3Rpbmcgb25seVxuLy8gdmFyIG9wdGlvbnMgPSB7XG4vLyAgIGJvZHk6ICdcdTA2NDVcdTA2MzFcdTA2MkRcdTA2MjhcdTA2MjcgXHUwNjI3XHUwNjQ2XHUwNjI3IFx1MDY0NVx1MDYyRFx1MDY0NVx1MDY0OFx1MDYyRicsXG4vLyAgIGljb246ICcuLi8uLi9pbWFnZXMvaWNvbi03Mlx1MDBENzcyLmljbycsXG4vLyAgIGJhZGdlOiAnLi4vLi4vaW1hZ2VzL2ljb24tNzJcdTAwRDc3Mi53ZWJwJyxcblxuLy8gfTtcbi8vIHNob3dBTm90aWZpY2F0aW9uKG9wdGlvbnMpXG4iLCAiLy8gQWRkIGFzc2V0cyB0byBDYWNoZVxuXG5jb25zdCBhc3NldHMgPSBbXG4gIFwiL1wiLFxuICBcIi9pbmRleC5odG1sXCIsXG4gIFwiL2Rpc3QvbWFpbi5qc1wiLFxuICBcIi9kaXN0L3NlcnZpY2VXb3JrZXIuanNcIixcbiAgXCIvc3JjL2Nzcy9zdHlsZS5jc3NcIixcbiAgXCIvc3JjL2Nzcy9hbGwubWluLmNzc1wiLFxuICBcIi9pbWFnZXMvZW50ZXItdGFzay53ZWJwXCIsXG4gIFwiL2ltYWdlcy9tb2RvLWxpZ2h0LndlYnBcIixcbiAgXCIvaW1hZ2VzL2ljb24tNzJcdTAwRDc3Mi5pY29cIixcbiAgXCIvaW1hZ2VzL2ljb24tNzJcdTAwRDc3Mi53ZWJwXCIsXG4gIFwiL2ltYWdlcy9pY29uLTk2XHUwMEQ3OTYud2VicFwiLFxuICBcIi9pbWFnZXMvaWNvbi0xMjhcdTAwRDcxMjgud2VicFwiLFxuICBcIi9pbWFnZXMvaWNvbi0xNDRcdTAwRDcxNDQud2VicFwiLFxuICBcIi9pbWFnZXMvaWNvbi0xNTJcdTAwRDcxNTIud2VicFwiLFxuICBcIi9pbWFnZXMvaWNvbi0xOTJcdTAwRDcxOTIud2VicFwiLFxuICBcIi9pbWFnZXMvaWNvbi0zODRcdTAwRDczODQud2VicFwiLFxuICBcIi9pbWFnZXMvaWNvbi01MTJcdTAwRDc1MTIud2VicFwiLFxuICBcIi9zcmMvd2ViZm9udHMvZmEtc29saWQtOTAwLnR0ZlwiLFxuICBcIi9zcmMvd2ViZm9udHMvZmEtYnJhbmRzLTQwMC50dGZcIixcbiAgXCIvc3JjL3dlYmZvbnRzL2ZhLXJlZ3VsYXItNDAwLnR0ZlwiLFxuICBcIi9zcmMvd2ViZm9udHMvZmEtdjRjb21wYXRpYmlsaXR5LnR0ZlwiLFxuICBcIi9zcmMvd2ViZm9udHMvZmEtc29saWQtOTAwLndvZmYyXCIsXG4gIFwiL3NyYy93ZWJmb250cy9mYS1icmFuZHMtNDAwLndvZmYyXCIsXG4gIFwiL3NyYy93ZWJmb250cy9mYS1yZWd1bGFyLTQwMC53b2ZmMlwiLFxuICBcIi9zcmMvd2ViZm9udHMvZmEtdjRjb21wYXRpYmlsaXR5LndvZmYyXCIsXG5dO1xuXG5cbi8vIEluc3RhbGwgdGhlIGFwcFxuc2VsZi5hZGRFdmVudExpc3RlbmVyKFwiaW5zdGFsbFwiLCAoZXZlbnQ6IGFueSk6IHZvaWQgPT4ge1xuICBldmVudD8ud2FpdFVudGlsKFxuICAgIGNhY2hlcy5vcGVuKFwibW9kb1wiKS50aGVuKChjYWNoZTogQ2FjaGUpID0+IGNhY2hlLmFkZEFsbChhc3NldHMpKVxuICApXG59KVxuXG4vLyBGZXRjaCBBc3NldHMgPT4gW05lZWQgUmV2aWV3XVxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdmZXRjaCcsIChldmVudDogYW55KTogdm9pZCA9PiB7XG4gIGV2ZW50LnJlc3BvbmRXaXRoKFxuICAgIGNhY2hlcy5tYXRjaChldmVudC5yZXF1ZXN0KS50aGVuKChyZXNwb25zZTogUmVzcG9uc2UgfCB1bmRlZmluZWQpOiBSZXNwb25zZSB8IFByb21pc2U8UmVzcG9uc2U+ID0+IHtcbiAgICAgIHJldHVybiByZXNwb25zZSB8fCBmZXRjaChldmVudC5yZXF1ZXN0KTtcbiAgICB9KVxuICApO1xufSk7XG5cblxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdmZXRjaCcsIChldmVudDogYW55KTogdm9pZCA9PiB7XG4gIGV2ZW50LnJlc3BvbmRXaXRoKFxuICAgIGNhY2hlcy5vcGVuKCdtb2RvJykudGhlbigoY2FjaGUpID0+IGZldGNoKGV2ZW50LnJlcXVlc3QpXG4gICAgICAudGhlbigocmVzcG9uc2U6IFJlc3BvbnNlKTogUmVzcG9uc2UgPT4ge1xuICAgICAgICBjYWNoZS5wdXQoZXZlbnQucmVxdWVzdCwgcmVzcG9uc2UuY2xvbmUoKSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0pXG4gICAgKVxuICApO1xufSk7XG5cblxuIiwgImZ1bmN0aW9uIHByb21pc2lmeVJlcXVlc3QocmVxdWVzdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLSBmaWxlIHNpemUgaGFja3NcbiAgICAgICAgcmVxdWVzdC5vbmNvbXBsZXRlID0gcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIGZpbGUgc2l6ZSBoYWNrc1xuICAgICAgICByZXF1ZXN0Lm9uYWJvcnQgPSByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTdG9yZShkYk5hbWUsIHN0b3JlTmFtZSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihkYk5hbWUpO1xuICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKCkgPT4gcmVxdWVzdC5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICBjb25zdCBkYnAgPSBwcm9taXNpZnlSZXF1ZXN0KHJlcXVlc3QpO1xuICAgIHJldHVybiAodHhNb2RlLCBjYWxsYmFjaykgPT4gZGJwLnRoZW4oKGRiKSA9PiBjYWxsYmFjayhkYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsIHR4TW9kZSkub2JqZWN0U3RvcmUoc3RvcmVOYW1lKSkpO1xufVxubGV0IGRlZmF1bHRHZXRTdG9yZUZ1bmM7XG5mdW5jdGlvbiBkZWZhdWx0R2V0U3RvcmUoKSB7XG4gICAgaWYgKCFkZWZhdWx0R2V0U3RvcmVGdW5jKSB7XG4gICAgICAgIGRlZmF1bHRHZXRTdG9yZUZ1bmMgPSBjcmVhdGVTdG9yZSgna2V5dmFsLXN0b3JlJywgJ2tleXZhbCcpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdEdldFN0b3JlRnVuYztcbn1cbi8qKlxuICogR2V0IGEgdmFsdWUgYnkgaXRzIGtleS5cbiAqXG4gKiBAcGFyYW0ga2V5XG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gZ2V0KGtleSwgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0KGtleSkpKTtcbn1cbi8qKlxuICogU2V0IGEgdmFsdWUgd2l0aCBhIGtleS5cbiAqXG4gKiBAcGFyYW0ga2V5XG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSwgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiB7XG4gICAgICAgIHN0b3JlLnB1dCh2YWx1ZSwga2V5KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBTZXQgbXVsdGlwbGUgdmFsdWVzIGF0IG9uY2UuIFRoaXMgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBzZXQoKSBtdWx0aXBsZSB0aW1lcy5cbiAqIEl0J3MgYWxzbyBhdG9taWMgXHUyMDEzIGlmIG9uZSBvZiB0aGUgcGFpcnMgY2FuJ3QgYmUgYWRkZWQsIG5vbmUgd2lsbCBiZSBhZGRlZC5cbiAqXG4gKiBAcGFyYW0gZW50cmllcyBBcnJheSBvZiBlbnRyaWVzLCB3aGVyZSBlYWNoIGVudHJ5IGlzIGFuIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gLlxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIHNldE1hbnkoZW50cmllcywgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHN0b3JlLnB1dChlbnRyeVsxXSwgZW50cnlbMF0pKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBHZXQgbXVsdGlwbGUgdmFsdWVzIGJ5IHRoZWlyIGtleXNcbiAqXG4gKiBAcGFyYW0ga2V5c1xuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIGdldE1hbnkoa2V5cywgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IFByb21pc2UuYWxsKGtleXMubWFwKChrZXkpID0+IHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0KGtleSkpKSkpO1xufVxuLyoqXG4gKiBVcGRhdGUgYSB2YWx1ZS4gVGhpcyBsZXRzIHlvdSBzZWUgdGhlIG9sZCB2YWx1ZSBhbmQgdXBkYXRlIGl0IGFzIGFuIGF0b21pYyBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIGtleVxuICogQHBhcmFtIHVwZGF0ZXIgQSBjYWxsYmFjayB0aGF0IHRha2VzIHRoZSBvbGQgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgdmFsdWUuXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlKGtleSwgdXBkYXRlciwgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiBcbiAgICAvLyBOZWVkIHRvIGNyZWF0ZSB0aGUgcHJvbWlzZSBtYW51YWxseS5cbiAgICAvLyBJZiBJIHRyeSB0byBjaGFpbiBwcm9taXNlcywgdGhlIHRyYW5zYWN0aW9uIGNsb3NlcyBpbiBicm93c2Vyc1xuICAgIC8vIHRoYXQgdXNlIGEgcHJvbWlzZSBwb2x5ZmlsbCAoSUUxMC8xMSkuXG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBzdG9yZS5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnB1dCh1cGRhdGVyKHRoaXMucmVzdWx0KSwga2V5KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KSk7XG59XG4vKipcbiAqIERlbGV0ZSBhIHBhcnRpY3VsYXIga2V5IGZyb20gdGhlIHN0b3JlLlxuICpcbiAqIEBwYXJhbSBrZXlcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBkZWwoa2V5LCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IHtcbiAgICAgICAgc3RvcmUuZGVsZXRlKGtleSk7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKTtcbiAgICB9KTtcbn1cbi8qKlxuICogRGVsZXRlIG11bHRpcGxlIGtleXMgYXQgb25jZS5cbiAqXG4gKiBAcGFyYW0ga2V5cyBMaXN0IG9mIGtleXMgdG8gZGVsZXRlLlxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIGRlbE1hbnkoa2V5cywgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiB7XG4gICAgICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiBzdG9yZS5kZWxldGUoa2V5KSk7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQ2xlYXIgYWxsIHZhbHVlcyBpbiB0aGUgc3RvcmUuXG4gKlxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWR3cml0ZScsIChzdG9yZSkgPT4ge1xuICAgICAgICBzdG9yZS5jbGVhcigpO1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS50cmFuc2FjdGlvbik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBlYWNoQ3Vyc29yKHN0b3JlLCBjYWxsYmFjaykge1xuICAgIHN0b3JlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZXN1bHQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhbGxiYWNrKHRoaXMucmVzdWx0KTtcbiAgICAgICAgdGhpcy5yZXN1bHQuY29udGludWUoKTtcbiAgICB9O1xuICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKTtcbn1cbi8qKlxuICogR2V0IGFsbCBrZXlzIGluIHRoZSBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24ga2V5cyhjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkb25seScsIChzdG9yZSkgPT4ge1xuICAgICAgICAvLyBGYXN0IHBhdGggZm9yIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpZiAoc3RvcmUuZ2V0QWxsS2V5cykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0QWxsS2V5cygpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgICAgICByZXR1cm4gZWFjaEN1cnNvcihzdG9yZSwgKGN1cnNvcikgPT4gaXRlbXMucHVzaChjdXJzb3Iua2V5KSkudGhlbigoKSA9PiBpdGVtcyk7XG4gICAgfSk7XG59XG4vKipcbiAqIEdldCBhbGwgdmFsdWVzIGluIHRoZSBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gdmFsdWVzKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWRvbmx5JywgKHN0b3JlKSA9PiB7XG4gICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGlmIChzdG9yZS5nZXRBbGwpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLmdldEFsbCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgICAgICByZXR1cm4gZWFjaEN1cnNvcihzdG9yZSwgKGN1cnNvcikgPT4gaXRlbXMucHVzaChjdXJzb3IudmFsdWUpKS50aGVuKCgpID0+IGl0ZW1zKTtcbiAgICB9KTtcbn1cbi8qKlxuICogR2V0IGFsbCBlbnRyaWVzIGluIHRoZSBzdG9yZS4gRWFjaCBlbnRyeSBpcyBhbiBhcnJheSBvZiBgW2tleSwgdmFsdWVdYC5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gZW50cmllcyhjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkb25seScsIChzdG9yZSkgPT4ge1xuICAgICAgICAvLyBGYXN0IHBhdGggZm9yIG1vZGVybiBicm93c2Vyc1xuICAgICAgICAvLyAoYWx0aG91Z2gsIGhvcGVmdWxseSB3ZSdsbCBnZXQgYSBzaW1wbGVyIHBhdGggc29tZSBkYXkpXG4gICAgICAgIGlmIChzdG9yZS5nZXRBbGwgJiYgc3RvcmUuZ2V0QWxsS2V5cykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLmdldEFsbEtleXMoKSksXG4gICAgICAgICAgICAgICAgcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS5nZXRBbGwoKSksXG4gICAgICAgICAgICBdKS50aGVuKChba2V5cywgdmFsdWVzXSkgPT4ga2V5cy5tYXAoKGtleSwgaSkgPT4gW2tleSwgdmFsdWVzW2ldXSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IGVhY2hDdXJzb3Ioc3RvcmUsIChjdXJzb3IpID0+IGl0ZW1zLnB1c2goW2N1cnNvci5rZXksIGN1cnNvci52YWx1ZV0pKS50aGVuKCgpID0+IGl0ZW1zKSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IGNsZWFyLCBjcmVhdGVTdG9yZSwgZGVsLCBkZWxNYW55LCBlbnRyaWVzLCBnZXQsIGdldE1hbnksIGtleXMsIHByb21pc2lmeVJlcXVlc3QsIHNldCwgc2V0TWFueSwgdXBkYXRlLCB2YWx1ZXMgfTtcbiIsICJpbXBvcnQgeyBjcmVhdGVTdG9yZSwgc2V0TWFueSwgZ2V0LCB1cGRhdGUsIHNldCB9IGZyb20gJ2lkYi1rZXl2YWwnO1xuXG5jb25zdCBjdXN0b21TdG9yZSA9IGNyZWF0ZVN0b3JlKCdNb2RvJywgJ3BlcnNvbicpO1xuXG5leHBvcnQgY29uc3QgbWFueVRvU3RvcmUgPSAoa2V5VmFsOiBbSURCVmFsaWRLZXkgLCBhbnldW10pOiBQcm9taXNlPHZvaWQ+ID0+IHNldE1hbnkoa2V5VmFsLCBjdXN0b21TdG9yZSk7XG5leHBvcnQgY29uc3QgdG9TdG9yZSA9IChrZXk6IElEQlZhbGlkS2V5LCB2YWx1ZTogYW55KTogUHJvbWlzZTx2b2lkPiA9PiBzZXQoa2V5LCB2YWx1ZSwgY3VzdG9tU3RvcmUpO1xuZXhwb3J0IGNvbnN0IGZyb21TdG9yZSA9IChrZXk6IGFueSk6IGFueSA9PiBnZXQoa2V5LCBjdXN0b21TdG9yZSk7XG5leHBvcnQgY29uc3QgdXBkYXRlU3RvcmFnZSA9IChrZXk6IGFueSwgZm46IGFueSkgPT4gdXBkYXRlKGtleSwgZm4sIGN1c3RvbVN0b3JlKVxuIiwgImV4cG9ydCBjb25zdCBjaGFuZ2VQcm9ncmVzcyA9ICh0YXNrczogYW55LCBuZXdUYXNrczogYW55LCBzdGF0dXM6IGJvb2xlYW4pID0+IHtcbiBsZXQgb1Rhc2tzID0gdGFza3MuZmlsdGVyKCh0YXNrOiBhbnkpID0+ICh0YXNrLnN0YXR1cyA/IHRhc2sgOiBcIlwiKSk7XG4gIGxldCBuVGFza3MgPSBuZXdUYXNrcy5maWx0ZXIoKHRhc2s6IGFueSkgPT4gKHRhc2suc3RhdHVzID8gdGFzayA6IFwiXCIpKTtcbiAgbGV0IHBlcmNlbnQgPSBvVGFza3MubGVuZ3RoICE9PSAwID8gKG9UYXNrcy5sZW5ndGggKiAxMDApIC8gdGFza3MubGVuZ3RoIDogMDtcbiAgbGV0IG5ld1BlcmNlbnQgPSBuVGFza3MubGVuZ3RoICE9PSAwID8gKG5UYXNrcy5sZW5ndGggKiAxMDApIC8gbmV3VGFza3MubGVuZ3RoIDogMDtcblxuICBsZXQgcHJvZ3Jlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzXCIpIGFzIEhUTUxFbGVtZW50O1xuXG5cbiAgaWYgKHN0YXR1cykge1xuICAgIGNvbnN0IGNvdW50UGx1cyA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmIChwZXJjZW50ID49IG5ld1BlcmNlbnQgKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoY291bnRQbHVzKVxuICAgICAgfVxuICAgICAgLy8gcHJvZ3Jlc3Muc3R5bGUuYmFja2dyb3VuZCA9IGBjb25pYy1ncmFkaWVudCh2YXIoLS1mYXYtY29sb3IpICR7cGVyY2VudCAvIDEwMFxuICAgICAgLy8gICB9dHVybiwgdmFyKC0tbW9kZS1jb2xvcikgMGRlZylgO1xuICAgICAgLy8gcHJvZ3Jlc3MuZGF0YXNldC5wcm9ncmVzcyA9IHBlcmNlbnQudG9GaXhlZCgxKTtcbiAgICAgIHByb2dyZXNzQ291bnQocHJvZ3Jlc3MsIHBlcmNlbnQpXG4gICAgICBwZXJjZW50Kys7XG4gICAgfSwgNTApXG4gIH1cbiAgaWYgKCFzdGF0dXMpIHtcbiAgICBjb25zdCBjb3VudE1pbiA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmIChwZXJjZW50ID49IG5ld1BlcmNlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudE1pbilcbiAgICAgIH1cbiAgICAgIHByb2dyZXNzQ291bnQocHJvZ3Jlc3MsIG5ld1BlcmNlbnQpXG4gICAgICBuZXdQZXJjZW50LS07XG4gICAgfSwgNTApXG4gIH1cbn1cblxuXG5cbmNvbnN0IHByb2dyZXNzQ291bnQgPSAoZWxlbWVudDogYW55LCBudW1iZXI6IG51bWJlcik6IHZvaWQgPT4ge1xuICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSBgY29uaWMtZ3JhZGllbnQodmFyKC0tZmF2LWNvbG9yKSAke251bWJlciAvIDEwMFxuICAgIH10dXJuLCB2YXIoLS1tb2RlLWNvbG9yKSAwZGVnKWA7XG4gIGVsZW1lbnQuZGF0YXNldC5wcm9ncmVzcyA9IG51bWJlci50b0ZpeGVkKDEpO1xuXG59XG4iLCAiaW1wb3J0IHsgcmVuZGVyVGFza3MgfSBmcm9tIFwiLi4vcmVuZGVyZXJcIjtcbmltcG9ydCB7IHVwZGF0ZVN0b3JhZ2UsIGZyb21TdG9yZSB9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5cblxuZXhwb3J0IGNvbnN0IGZpbmRMaUNoaWxkID0gKGl0ZW06IGFueSkgPT4ge1xuICBpdGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XG4gIHJldHVybiBpdGVtLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xufVxuXG5leHBvcnQgY29uc3QgZWRpdCA9IChpdGVtOiBhbnkpID0+IHtcbiAgbGV0IHAgPSBmaW5kTGlDaGlsZChpdGVtKTtcbiAgcC5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIiwgXCJ0cnVlXCIpO1xuICBwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGFzeW5jICgpID0+IHtcbiAgICBwLnJlbW92ZUF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKTtcblxuICAgIGNvbnN0IHRhc2tzID0gYXdhaXQgZnJvbVN0b3JlKFwidGFza3NcIilcblxuICAgIHRhc2tzW3AucGFyZW50Tm9kZS5kYXRhc2V0LmlkXS5jb250ZW50ID0gcC50ZXh0Q29udGVudDtcbiAgICB1cGRhdGVTdG9yYWdlKFwidGFza3NcIiwgKCkgPT4gdGFza3MpXG4gICAgcmVuZGVyVGFza3ModGFza3MpO1xuICB9KTtcbn1cblxuIiwgImltcG9ydCB7IGNoYW5nZVByb2dyZXNzIH0gZnJvbSBcIi4uL3Byb2dyZXNzXCI7XG5pbXBvcnQgeyByZW5kZXJUYXNrcyB9IGZyb20gXCIuLi9yZW5kZXJlclwiO1xuaW1wb3J0IHsgZnJvbVN0b3JlLCB0b1N0b3JlIH0gZnJvbSBcIi4uL3N0b3JhZ2VcIjtcbmltcG9ydCB7IGZpbmRMaUNoaWxkIH0gZnJvbSBcIi4vZWRpdFwiO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlVGhpcyA9IGFzeW5jIChpdGVtOiBhbnkpID0+IHtcbiAgY29uc3QgdGFza3MgPSBhd2FpdCBmcm9tU3RvcmUoXCJ0YXNrc1wiKTtcbiAgY29uc3Qgc3RhdHVzID0gdGFza3NbZmluZExpQ2hpbGQoaXRlbSkucGFyZW50Tm9kZS5kYXRhc2V0LmlkXS5zdGF0dXM7XG5cbiAgY29uc3Qgb2xkVGFza3MgPSB0YXNrcztcbiAgdGFza3Muc3BsaWNlKGZpbmRMaUNoaWxkKGl0ZW0pLnBhcmVudE5vZGUuZGF0YXNldC5pZCwgMSk7XG4gIHRhc2tzLmZvckVhY2goKHRhc2s6IGFueSwgaW5kZXg6IGFueSkgPT4ge1xuICAgIHRhc2suaWQgPSBpbmRleDtcbiAgfSk7XG4gIGF3YWl0IHRvU3RvcmUoXCJ0YXNrc1wiLCB0YXNrcylcbiAgcmVuZGVyVGFza3ModGFza3MpO1xuICBjaGFuZ2VQcm9ncmVzcyhvbGRUYXNrcywgdGFza3MsIHN0YXR1cyk7XG59XG5cbmV4cG9ydCBjb25zdCBzZXRTdGF0dXMgPSBhc3luYyAoZWxlbWVudDogYW55LCBzdGF0dXM6IGJvb2xlYW4pID0+IHtcbiAgY29uc3QgdGFza3MgPSBhd2FpdCBmcm9tU3RvcmUoXCJ0YXNrc1wiKVxuICBjb25zdCBvbGRUYXNrcyA9IHRhc2tzO1xuICB0YXNrc1tlbGVtZW50LmRhdGFzZXQuaWRdLnN0YXR1cyA9IHN0YXR1cztcbiAgY2hhbmdlUHJvZ3Jlc3Mob2xkVGFza3MsIHRhc2tzLCBzdGF0dXMpXG4gIHJlbmRlclRhc2tzKHRhc2tzKTtcbiAgYXdhaXQgdG9TdG9yZShcInRhc2tzXCIsIHRhc2tzKVxufVxuIiwgImltcG9ydCB7IGZyb21TdG9yZSB9IGZyb20gXCIuLi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBzZXRTdGF0dXMgfSBmcm9tIFwiLi9kZWxldGVcIjtcbmltcG9ydCB7IGZpbmRMaUNoaWxkIH0gZnJvbSBcIi4vZWRpdFwiO1xuXG5leHBvcnQgY29uc3QgbWFrZUNvbXBsZXRlZCA9IGFzeW5jIChpdGVtOiBhbnkpID0+IHtcbiAgY29uc3QgdGFza3MgPSBhd2FpdCBmcm9tU3RvcmUoXCJ0YXNrc1wiKTtcblxuICBsZXQgbGkgPSBmaW5kTGlDaGlsZChpdGVtKS5wYXJlbnROb2RlO1xuICBpZiAoaXRlbS5jaGlsZHJlblsxXS50ZXh0Q29udGVudCA9PSBcIk5vdCBDb21wbGV0ZWRcIikge1xuICAgIHNldFN0YXR1cyhsaSwgZmFsc2UpO1xuICAgIGxpLmZpcnN0Q2hpbGQuc3R5bGUuYmFjZ3JvdW5kQ29sb3IgPSB0YXNrcy5pY29uICsgXCJcIjtcbiAgfSBlbHNlIHtcbiAgICBzZXRTdGF0dXMobGksIHRydWUpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgaGlkZU1lbnUsIHRvZ2dsZU1lbnUgfSBmcm9tIFwiLi9tZW51XCI7XG5pbXBvcnQgeyBwYXJlbnRpbnB1dCB9IGZyb20gXCIuL2VsZW1lbnRzXCI7XG5pbXBvcnQgeyBmcm9tU3RvcmUgfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4vbWFpblwiO1xuXG5pbXBvcnQgeyBkZWxldGVUaGlzIH0gZnJvbSAnLi9UYXNrcy9kZWxldGUnXG5pbXBvcnQgeyBlZGl0IH0gZnJvbSAnLi9UYXNrcy9lZGl0J1xuaW1wb3J0IHsgbWFrZUNvbXBsZXRlZCB9IGZyb20gJy4vVGFza3MvbWFrZUNvbXBsZXRlJ1xuaW1wb3J0IHsgY2hhbmdlUHJvZ3Jlc3MgfSBmcm9tIFwiLi9wcm9ncmVzc1wiO1xuXG5leHBvcnQgY29uc3QgcmVuZGVyVGFza3MgPSBhc3luYyAoYXJyYXlPZlRhc2tzOiBUYXNrW10pOiBQcm9taXNlPHZvaWQ+ID0+IHtcblxuICBwYXJlbnRpbnB1dC5zdHlsZS5ib3JkZXIgPSBgMnB4IHNvbGlkIHZhcigtLWNob29zZW4tY29sb3IpYDtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YXNrcy1saXN0IGxpXCIpPy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgYXJyYXlPZlRhc2tzLmZvckVhY2goKHRhc2ssIGluZGV4KSA9PiB7XG4gICAgbGV0IGZTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgZlNwYW4uY2xhc3NMaXN0LmFkZChcImljb25cIik7XG4gICAgZlNwYW4uc3R5bGUuYm9yZGVyID0gYDJweCBzb2xpZCAke3Rhc2suaWNvbn1gO1xuICAgIGZTcGFuLnN0eWxlLmNvbG9yID0gYCR7dGFzay5pY29ufWA7XG5cbiAgICBsZXQgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHAuY2xhc3NMaXN0LmFkZChcInRhc2stY29udGVudFwiKTtcbiAgICBwLnRleHRDb250ZW50ID0gdGFzay5jb250ZW50O1xuXG4gICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJvcHRpb25zXCIpO1xuICAgIGRpdi5pbm5lckhUTUwgPSBgICAgICAgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNwYW4tb3B0c1wiPlx1MjAyMlx1MjAyMlx1MjAyMjwvc3Bhbj5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm9wdGlvbnMtbGlzdCBoaWRlXCI+XG4gICAgICAgICAgICAgIDxsaSBjbGFzcz1cImVkaXRcIiBvbmNsaWNrPVwid2luZG93LmVkaXQodGhpcylcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXBlbmNpbCBmYS1zbVwiPjwvaT5cbiAgICAgICAgICAgICAgICA8cD5FZGl0PC9wPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJjb21wbGV0ZWRcIiBvbmNsaWNrPVwid2luZG93Lm1ha2VDb21wbGV0ZWQodGhpcylcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWNoZWNrIGZhLXNtXCI+PC9pPlxuICAgICAgICAgICAgICAgIDxwPiR7dGFzay5zdGF0dXMgPT0gZmFsc2UgPyBcIkNvbXBsZXRlZFwiIDogXCJOb3QgQ29tcGxldGVkXCJ9PC9wPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJkZWxldGVcIiBvbmNsaWNrPVwid2luZG93LmRlbGV0ZVRoaXModGhpcylcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoIGZhLXNtXCI+PC9pPlxuICAgICAgICAgICAgICAgIDxwPkRlbGV0ZTwvcD5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gYDtcblxuICAgIGxldCBzU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHNTcGFuLmNsYXNzTGlzdC5hZGQoXCJtb3ZlLXRhc2tcIik7XG4gICAgc1NwYW4udGV4dENvbnRlbnQgPSBcIjo6OlwiO1xuXG4gICAgbGV0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgIGxpLnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgYCR7dGFzay5pZH1gKTtcbiAgICBsaS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0YXR1c1wiLCB0YXNrLnN0YXR1cyA/IFwiY29tcGxldGVkXCIgOiBcIm5vdC1jb21wbGV0ZWRcIik7XG4gICAgZnJvbVN0b3JlKFwidGFza3NcIikudGhlbigodGFza3M6IFRhc2tbXSkgPT4ge1xuICAgICAgaWYgKHRhc2tzPy5sZW5ndGggPj0gNSAmJiAodGFza3M/Lmxlbmd0aCAtIDEgPT0gaW5kZXggfHwgdGFza3M/Lmxlbmd0aCAtIDIgPT0gaW5kZXgpKSB7XG4gICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoXCJsYXN0LWxpXCIpXG4gICAgICB9XG4gICAgfSlcbiAgICBsaS5hcHBlbmQoZlNwYW4pO1xuICAgIGxpLmFwcGVuZChwKTtcbiAgICBsaS5hcHBlbmQoZGl2KTtcbiAgICBsaS5hcHBlbmQoc1NwYW4pO1xuXG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzLWxpc3RcIik/LmFwcGVuZChsaSk7XG5cbiAgICBjb25zdCBvcHRzOiBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3Bhbi1vcHRzXCIpO1xuICAgIG9wdHMuZm9yRWFjaCgob3B0KSA9PiB7XG4gICAgICBvcHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgb3B0cy5mb3JFYWNoKChvcCkgPT4gb3AubmV4dEVsZW1lbnRTaWJsaW5nPy5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKSk7XG4gICAgICB9KTtcblxuICAgICAgdG9nZ2xlTWVudShvcHQsIG9wdC5uZXh0RWxlbWVudFNpYmxpbmcpO1xuICAgICAgaGlkZU1lbnUob3B0Lm5leHRFbGVtZW50U2libGluZyk7XG4gICAgfSk7XG4gIH0pO1xuICBjaGFuZ2VQcm9ncmVzcyhhd2FpdCBmcm9tU3RvcmUoXCJ0YXNrc1wiKSwgYXJyYXlPZlRhc2tzLCB0cnVlKVxufVxuXG5cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBlZGl0OiBhbnk7XG4gICAgbWFrZUNvbXBsZXRlZDogYW55O1xuICAgIGRlbGV0ZVRoaXM6IGFueTtcbiAgfVxufVxud2luZG93LmVkaXQgPSBlZGl0O1xud2luZG93LmRlbGV0ZVRoaXMgPSBkZWxldGVUaGlzO1xud2luZG93Lm1ha2VDb21wbGV0ZWQgPSBtYWtlQ29tcGxldGVkO1xuIiwgImltcG9ydCAnLi9tZW51J1xuaW1wb3J0ICcuL25vdGlmaWNhdGlvbnMnXG5pbXBvcnQgJy4vc2VydmljZVdvcmtlcidcbmltcG9ydCAnLi9zdG9yYWdlJ1xuaW1wb3J0ICcuL3JlbmRlcmVyJ1xuaW1wb3J0IHsgZnJvbVN0b3JlLCB0b1N0b3JlIH0gZnJvbSAnLi9zdG9yYWdlJ1xuaW1wb3J0IHsgcmVuZGVyVGFza3MgfSBmcm9tICcuL3JlbmRlcmVyJ1xuaW1wb3J0IHsgY2hhbmdlUHJvZ3Jlc3MgfSBmcm9tICcuL3Byb2dyZXNzJ1xuaW1wb3J0IHtcbiAgbWFpbkJ1dHRvbixcbiAgbW9kZUJ1dHRvbixcbiAgY29sb3JzTGlzdCxcbiAgc3RhdHVzTGlzdCxcbiAgZXh0cmFDb2xvcixcbiAgdGFza0ljb24sXG4gIHRhc2tDb250ZW50LFxuICBpbnB1dFRhc2tDb2xvcixcbiAgcGFyZW50aW5wdXQsXG4gIHVzZXJJbWFnZSxcbn0gZnJvbSBcIi4vZWxlbWVudHNcIjtcblxuLy8gc3RhcnQgc2VuZGluZyBpbmZvIHRvIGxvY2FsU3RvcmFnZSAtLSBtb2RlIC0gaW1hZ2UgLSBmYXZDb2xvciAtLVxuZXhwb3J0IGludGVyZmFjZSBUYXNrIHtcbiAgaWNvbjogc3RyaW5nO1xuICBpZDogbnVtYmVyO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHN0YXR1czogYm9vbGVhbjtcbn1cblxuXG4vLyBTdGFydCBIYW5kbGluZyBJbWFnZVxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBpbWFnZSA9IGF3YWl0IGZyb21TdG9yZShcImltYWdlXCIpXG4gIGlmIChpbWFnZSA9PSB1bmRlZmluZWQpIHtcbiAgICBhd2FpdCB0b1N0b3JlKFwiaW1hZ2VcIiwgXCJcIilcbiAgfVxuXG5cbiAgaWYgKGltYWdlICE9PSBcIlwiKSB7XG4gICAgbWFpbkJ1dHRvbj8uc2V0QXR0cmlidXRlKFwic3JjXCIsIGltYWdlKTtcbiAgfSBlbHNlIHtcbiAgICBtYWluQnV0dG9uPy5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIik7XG4gIH1cblxuICB1c2VySW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIC8vIENvbnZlcnQgaW1hZ2UgdG8gYmFzZTY0IGFuZCBzdG9yZSBpdCBpbiBsb2NhbFN0b3JhZ2VcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTCh1c2VySW1hZ2UuZmlsZXM/Lml0ZW0oMCkgYXMgQmxvYik7XG5cbiAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdG9TdG9yZShcImltYWdlXCIsIHJlYWRlci5yZXN1bHQpXG4gICAgICBtYWluQnV0dG9uPy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgYCR7cmVhZGVyLnJlc3VsdH1gKTtcbiAgICB9KTtcblxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcblxuXG5cbiAgY29uc3QgbW9kZSA9IGF3YWl0IGZyb21TdG9yZShcIm1vZGVcIilcblxuICBpZiAobW9kZSA9PSB1bmRlZmluZWQpIHtcbiAgICBhd2FpdCB0b1N0b3JlKFwibW9kZVwiLCBcIlwiKVxuICB9XG5cbiAgbW9kZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBsZXQgbW9kZSA9ICFtb2RlQnV0dG9uPy5jbGFzc0xpc3QuY29udGFpbnMoXCJkYXJrXCIpID8gXCJkYXJrXCIgOiBcImxpZ2h0XCI7XG4gICAgdG9TdG9yZShcIm1vZGVcIiwgbW9kZSlcbiAgfSk7XG5cblxuICBjb25zdCBmYXZDb2xvciA9IGF3YWl0IGZyb21TdG9yZShcImZhdi1jb2xvclwiKVxuXG4gIGlmIChmYXZDb2xvciA9PSB1bmRlZmluZWQpIHtcbiAgICBhd2FpdCB0b1N0b3JlKFwiZmF2LWNvbG9yXCIsIFwiXCIpXG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiaHRtbFwiKVxuICAgICAgPy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tZmF2LWNvbG9yXCIsIGZhdkNvbG9yKTtcbiAgfVxuXG5cbiAgZXh0cmFDb2xvcj8uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICBjb2xvcnNMaXN0WzRdLmRhdGFzZXQuY29sb3IgPSBleHRyYUNvbG9yLnZhbHVlO1xuICAgIHRvU3RvcmUoXCJmYXYtY29sb3JcIiwgZXh0cmFDb2xvci52YWx1ZSlcblxuICAgIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcImh0bWxcIilcbiAgICAgID8uc3R5bGUuc2V0UHJvcGVydHkoXCItLWZhdi1jb2xvclwiLCBleHRyYUNvbG9yLnZhbHVlKTtcbiAgfSk7XG5cbiAgY29sb3JzTGlzdC5mb3JFYWNoKChjb2xvcjogYW55KSA9PiB7XG4gICAgY29sb3IuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRvU3RvcmUoXCJmYXYtY29sb3JcIiwgY29sb3IuZGF0YXNldC5jb2xvcilcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiaHRtbFwiKVxuICAgICAgICA/LnN0eWxlLnNldFByb3BlcnR5KFwiLS1mYXYtY29sb3JcIiwgY29sb3IuZGF0YXNldC5jb2xvcik7XG4gICAgfSk7XG4gIH0pO1xuXG5cblxuICBjb25zdCB0YXNrcyA9IGF3YWl0IGZyb21TdG9yZShcInRhc2tzXCIpXG5cbiAgaWYgKHRhc2tzID09IHVuZGVmaW5lZCkge1xuICAgIGF3YWl0IHRvU3RvcmUoXCJ0YXNrc1wiLCBbXSlcbiAgfVxuXG5cbiAgLy8gc3RhcnQgaGFuZGxpbmcgdGFza3Mgb3BlcmF0aW9uc1xuICAvLyBEZWZpbmUgYW4gb2JqZWN0IHRvIHN0b3JlIGFsbCB0YXNrIGluZm9cbiAgaW5wdXRUYXNrQ29sb3I/LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgIHBhcmVudGlucHV0LnN0eWxlLmJvcmRlciA9IGAycHggc29saWQgJHtpbnB1dFRhc2tDb2xvci52YWx1ZX1gO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuXG4gIGxldCB0YXNrc0ZMUzogVGFza1tdID0gW107XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXQtYm94XCIpPy5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGFzeW5jIChlKSA9PiB7XG4gICAgaWYgKHRhc2tDb250ZW50LnZhbHVlICE9PSBcIlwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGNvbnN0IHRhc2tzID0gYXdhaXQgZnJvbVN0b3JlKFwidGFza3NcIilcbiAgICAgIGNvbnNvbGUubG9nKHRhc2tzKTtcblxuICAgICAgY29uc3QgdXBkYXRlZFRhc2tzID0gWy4uLnRhc2tzLCB7XG4gICAgICAgIGljb246IHRhc2tJY29uLnZhbHVlLFxuICAgICAgICBpZDogdGFza3MubGVuZ3RoLFxuICAgICAgICBjb250ZW50OiB0YXNrQ29udGVudC52YWx1ZSxcbiAgICAgICAgc3RhdHVzOiBmYWxzZVxuICAgICAgfV1cblxuICAgICAgdG9TdG9yZShcInRhc2tzXCIsIHVwZGF0ZWRUYXNrcylcblxuICAgICAgcmVuZGVyVGFza3ModXBkYXRlZFRhc2tzKVxuICAgIH1cbiAgICB0YXNrQ29udGVudC52YWx1ZSA9IFwiXCI7XG4gIH0pO1xuXG4gIGNvbnN0IGRhcmtDb2xvcnMgPSBuZXcgTWFwKCk7XG4gIGNvbnN0IGxpZ2h0Q29sb3JzID0gbmV3IE1hcCgpO1xuXG4gIGRhcmtDb2xvcnNcbiAgICAuc2V0KFwiLS1tb2RlLWNvbG9yXCIsIFwiIzIyMlwiKVxuICAgIC5zZXQoXCItLWFsdC1tb2RlLWNvbG9yXCIsIFwiI2ZmZlwiKVxuICAgIC5zZXQoXCItLWhvdmVyLWNvbG9yXCIsIFwiIzM2MzYzNlwiKVxuICAgIC5zZXQoXCItLXNlYy1tb2RlLWNvbG9yXCIsIFwiIzMzM1wiKTtcblxuICBsaWdodENvbG9yc1xuICAgIC5zZXQoXCItLW1vZGUtY29sb3JcIiwgXCIjZmZmXCIpXG4gICAgLnNldChcIi0tYWx0LW1vZGUtY29sb3JcIiwgXCIjMDAwXCIpXG4gICAgLnNldChcIi0taG92ZXItY29sb3JcIiwgXCIjZjZmNmY2XCIpXG4gICAgLnNldChcIi0tc2VjLW1vZGUtY29sb3JcIiwgXCIjZWVlXCIpO1xuXG4gIG1vZGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgbW9kZUJ1dHRvbj8uY2xhc3NMaXN0LnRvZ2dsZShcImRhcmtcIik7XG4gICAgaWYgKG1vZGVCdXR0b24/LmNsYXNzTGlzdC5jb250YWlucyhcImRhcmtcIikgPT0gdHJ1ZSkge1xuICAgICAgZm9yIChjb25zdCBbdmFyaWFibGUsIHZhbHVlXSBvZiBkYXJrQ29sb3JzKSB7XG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImh0bWxcIik/LnN0eWxlLnNldFByb3BlcnR5KHZhcmlhYmxlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtb2RlQnV0dG9uPy5jbGFzc0xpc3QuY29udGFpbnMoXCJkYXJrXCIpID09IGZhbHNlKSB7XG4gICAgICBmb3IgKGNvbnN0IFt2YXJpYWJsZSwgdmFsdWVdIG9mIGxpZ2h0Q29sb3JzKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpPy5zdHlsZS5zZXRQcm9wZXJ0eSh2YXJpYWJsZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHNwZWNpZmljIGNsYXNzZXMgZnJvbSBlbGVtZW50XG4gICAqICovXG4gIGZ1bmN0aW9uIGNoYW5nZUFjdGl2ZShcbiAgICBjb2xsZWN0aW9uT2ZFbGU6IE5vZGVMaXN0T2Y8RWxlbWVudD4sXG4gICAgLi4uY2xhc3Nlczogc3RyaW5nW11cbiAgKSB7XG4gICAgY29sbGVjdGlvbk9mRWxlLmZvckVhY2goKGVsZSkgPT4ge1xuICAgICAgZWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZTogYW55KSA9PiB7XG4gICAgICAgIGNvbGxlY3Rpb25PZkVsZS5mb3JFYWNoKChlbGUpID0+IGVsZS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMuam9pbihcIiBcIikpKTtcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY2hhbmdlQWN0aXZlKGNvbG9yc0xpc3QsIFwiYWN0aXZlXCIpO1xuICBjaGFuZ2VBY3RpdmUoc3RhdHVzTGlzdCwgXCJhY3RpdmVcIik7XG5cbiAgc3RhdHVzTGlzdFswXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHRhc2tzID0gYXdhaXQgZnJvbVN0b3JlKFwidGFza3NcIilcbiAgICByZW5kZXJUYXNrcyh0YXNrcylcbiAgfSlcblxuICBzdGF0dXNMaXN0WzFdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdGFza3MgPSBhd2FpdCBmcm9tU3RvcmUoXCJ0YXNrc1wiKVxuICAgIHJlbmRlclRhc2tzKFxuICAgICAgdGFza3MuZmlsdGVyKChlbGU6IGFueSkgPT4gKCFlbGUuc3RhdHVzID8gZWxlIDogXCJcIikpXG4gICAgKVxuICB9KTtcblxuXG4gIHN0YXR1c0xpc3RbMl0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB0YXNrcyA9IGF3YWl0IGZyb21TdG9yZShcInRhc2tzXCIpXG4gICAgcmVuZGVyVGFza3MoXG4gICAgICB0YXNrcy5maWx0ZXIoKGVsZTogYW55KSA9PiAoZWxlLnN0YXR1cyA/IGVsZSA6IFwiXCIpKSxcbiAgICApXG4gIH0pO1xuXG4gIGZyb21TdG9yZShcIm1vZGVcIikudGhlbigobW9kZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKG1vZGUgPT0gXCJkYXJrXCIpIHtcbiAgICAgIG1vZGVCdXR0b24/LmNsYXNzTGlzdC5hZGQoXCJkYXJrXCIpO1xuICAgICAgZm9yIChjb25zdCBbdmFyaWFibGUsIHZhbHVlXSBvZiBkYXJrQ29sb3JzKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpPy5zdHlsZS5zZXRQcm9wZXJ0eSh2YXJpYWJsZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtb2RlICE9IFwiZGFya1wiKSB7XG4gICAgICBtb2RlQnV0dG9uPy5jbGFzc0xpc3QucmVtb3ZlKFwiZGFya1wiKTtcbiAgICAgIGZvciAoY29uc3QgW3ZhcmlhYmxlLCB2YWx1ZV0gb2YgbGlnaHRDb2xvcnMpIHtcblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaHRtbFwiKT8uc3R5bGUuc2V0UHJvcGVydHkodmFyaWFibGUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgZnJvbVN0b3JlKFwidGFza3NcIikudGhlbigodGFza3M6IFRhc2tbXSkgPT4ge1xuICAgIGlmICh0YXNrcyAmJiB0YXNrcyAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGNoYW5nZVByb2dyZXNzKFtdLCB0YXNrcywgdHJ1ZSlcbiAgICAgIHJlbmRlclRhc2tzKHRhc2tzKTtcblxuICAgIH1cbiAgfSlcbn0pXG4iXSwKICAibWFwcGluZ3MiOiAibUJBQU8sSUFDTEEsRUFBK0IsU0FBUyxlQUFlLFFBQVEsRUFDL0RDLEVBQWEsU0FBUyxlQUFlLE1BQU0sRUFDM0NDLEVBQThCLFNBQVMsZUFBZSxTQUFTLEVBQy9EQyxFQUFrQixTQUFTLGlCQUFpQixpQkFBaUIsRUFDN0RDLEVBQWtCLFNBQVMsZUFBZSxhQUFhLEVBQ3ZEQyxFQUFZLFNBQVMsZUFBZSxTQUFTLEVBQzdDQyxFQUFhLFNBQVMsaUJBQWlCLFlBQVksRUFDbkRDLEVBQTZCLFNBQVMsZUFBZSxXQUFXLEVBQ2hFQyxFQUFnQyxTQUFTLGVBQWUsY0FBYyxFQUN0RUMsRUFBbUMsU0FBUyxjQUFjLDZCQUE2QixFQUN2RkMsRUFBY0QsRUFBZSxXQ1B4QixJQUFNRSxFQUFhLENBQUNDLEVBQTRCQyxJQUEyQyxDQUNoR0QsR0FBUSxpQkFBaUIsUUFBVUUsR0FBVSxDQUMzQ0QsR0FBTSxVQUFVLE9BQU8sTUFBTSxFQUM3QkQsR0FBUSxVQUFVLE9BQU8sU0FBUyxFQUNsQ0UsRUFBTSxnQkFBZ0IsQ0FDeEIsQ0FBQyxDQUNILEVBRWFDLEVBQVlGLEdBQTJD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RCxDQUNGLENBQUMsRUFFRDVCLEVBQVUsTUFBTSxFQUFFLEtBQU1PLEdBQWlCLENBQ3ZDLEdBQUlBLEdBQVEsT0FBUSxDQUNsQkQsR0FBWSxVQUFVLElBQUksTUFBTSxFQUNoQyxPQUFXLENBQUNpQixFQUFVQyxDQUFLLElBQUtILEVBQzlCLFNBQVMsY0FBYyxNQUFNLEdBQUcsTUFBTSxZQUFZRSxFQUFVQyxDQUFLLENBRXJFLENBRUEsR0FBSWpCLEdBQVEsT0FBUSxDQUNsQkQsR0FBWSxVQUFVLE9BQU8sTUFBTSxFQUNuQyxPQUFXLENBQUNpQixFQUFVQyxDQUFLLElBQUtGLEVBRTlCLFNBQVMsY0FBYyxNQUFNLEdBQUcsTUFBTSxZQUFZQyxFQUFVQyxDQUFLLENBRXJFLENBQ0YsQ0FBQyxFQUVEeEIsRUFBVSxPQUFPLEVBQUUsS0FBTWlCLEdBQWtCLENBQ3JDQSxHQUFTQSxHQUFTLE9BQ3BCYSxFQUFlLENBQUMsRUFBR2IsRUFBTyxFQUFJLEVBQzlCRyxFQUFZSCxDQUFLLEVBR3JCLENBQUMsQ0FDSCxDQUFDIiwKICAibmFtZXMiOiBbIm1haW5CdXR0b24iLCAibW9kZUJ1dHRvbiIsICJzZXR0aW5nIiwgImNvbG9yc0xpc3QiLCAiZXh0cmFDb2xvciIsICJ1c2VySW1hZ2UiLCAic3RhdHVzTGlzdCIsICJ0YXNrSWNvbiIsICJ0YXNrQ29udGVudCIsICJpbnB1dFRhc2tDb2xvciIsICJwYXJlbnRpbnB1dCIsICJ0b2dnbGVNZW51IiwgImJ1dHRvbiIsICJtZW51IiwgImV2ZW50IiwgImhpZGVNZW51IiwgIm1haW5CdXR0b24iLCAic2V0dGluZyIsICJzdGF0dXMiLCAiYXNzZXRzIiwgImV2ZW50IiwgImNhY2hlIiwgInJlc3BvbnNlIiwgInByb21pc2lmeVJlcXVlc3QiLCAicmVxdWVzdCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJjcmVhdGVTdG9yZSIsICJkYk5hbWUiLCAic3RvcmVOYW1lIiwgImRicCIsICJ0eE1vZGUiLCAiY2FsbGJhY2siLCAiZGIiLCAiZGVmYXVsdEdldFN0b3JlRnVuYyIsICJkZWZhdWx0R2V0U3RvcmUiLCAiZ2V0IiwgImtleSIsICJjdXN0b21TdG9yZSIsICJzdG9yZSIsICJzZXQiLCAidmFsdWUiLCAidXBkYXRlIiwgImtleSIsICJ1cGRhdGVyIiwgImN1c3RvbVN0b3JlIiwgImRlZmF1bHRHZXRTdG9yZSIsICJzdG9yZSIsICJyZXNvbHZlIiwgInJlamVjdCIsICJwcm9taXNpZnlSZXF1ZXN0IiwgImVyciIsICJjdXN0b21TdG9yZSIsICJjcmVhdGVTdG9yZSIsICJ0b1N0b3JlIiwgImtleSIsICJ2YWx1ZSIsICJzZXQiLCAiY3VzdG9tU3RvcmUiLCAiZnJvbVN0b3JlIiwgImdldCIsICJ1cGRhdGVTdG9yYWdlIiwgImZuIiwgInVwZGF0ZSIsICJjaGFuZ2VQcm9ncmVzcyIsICJ0YXNrcyIsICJuZXdUYXNrcyIsICJzdGF0dXMiLCAib1Rhc2tzIiwgInRhc2siLCAiblRhc2tzIiwgInBlcmNlbnQiLCAibmV3UGVyY2VudCIsICJwcm9ncmVzcyIsICJjb3VudFBsdXMiLCAicHJvZ3Jlc3NDb3VudCIsICJjb3VudE1pbiIsICJlbGVtZW50IiwgIm51bWJlciIsICJmaW5kTGlDaGlsZCIsICJpdGVtIiwgImVkaXQiLCAicCIsICJ0YXNrcyIsICJmcm9tU3RvcmUiLCAidXBkYXRlU3RvcmFnZSIsICJyZW5kZXJUYXNrcyIsICJkZWxldGVUaGlzIiwgIml0ZW0iLCAidGFza3MiLCAiZnJvbVN0b3JlIiwgInN0YXR1cyIsICJmaW5kTGlDaGlsZCIsICJvbGRUYXNrcyIsICJ0YXNrIiwgImluZGV4IiwgInRvU3RvcmUiLCAicmVuZGVyVGFza3MiLCAiY2hhbmdlUHJvZ3Jlc3MiLCAic2V0U3RhdHVzIiwgImVsZW1lbnQiLCAibWFrZUNvbXBsZXRlZCIsICJpdGVtIiwgInRhc2tzIiwgImZyb21TdG9yZSIsICJsaSIsICJmaW5kTGlDaGlsZCIsICJzZXRTdGF0dXMiLCAicmVuZGVyVGFza3MiLCAiYXJyYXlPZlRhc2tzIiwgInBhcmVudGlucHV0IiwgImVsZW1lbnQiLCAidGFzayIsICJpbmRleCIsICJmU3BhbiIsICJwIiwgImRpdiIsICJzU3BhbiIsICJsaSIsICJmcm9tU3RvcmUiLCAidGFza3MiLCAib3B0cyIsICJvcHQiLCAib3AiLCAidG9nZ2xlTWVudSIsICJoaWRlTWVudSIsICJjaGFuZ2VQcm9ncmVzcyIsICJlZGl0IiwgImRlbGV0ZVRoaXMiLCAibWFrZUNvbXBsZXRlZCIsICJpbWFnZSIsICJmcm9tU3RvcmUiLCAidG9TdG9yZSIsICJtYWluQnV0dG9uIiwgInVzZXJJbWFnZSIsICJldmVudCIsICJyZWFkZXIiLCAibW9kZUJ1dHRvbiIsICJtb2RlIiwgImZhdkNvbG9yIiwgImV4dHJhQ29sb3IiLCAiY29sb3JzTGlzdCIsICJjb2xvciIsICJpbnB1dFRhc2tDb2xvciIsICJlIiwgInBhcmVudGlucHV0IiwgInRhc2tzRkxTIiwgInRhc2tDb250ZW50IiwgInRhc2tzIiwgInVwZGF0ZWRUYXNrcyIsICJ0YXNrSWNvbiIsICJyZW5kZXJUYXNrcyIsICJkYXJrQ29sb3JzIiwgImxpZ2h0Q29sb3JzIiwgInZhcmlhYmxlIiwgInZhbHVlIiwgImNoYW5nZUFjdGl2ZSIsICJjb2xsZWN0aW9uT2ZFbGUiLCAiY2xhc3NlcyIsICJlbGUiLCAic3RhdHVzTGlzdCIsICJjaGFuZ2VQcm9ncmVzcyJdCn0K
